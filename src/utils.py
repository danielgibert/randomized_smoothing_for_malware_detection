import numpy as np
import os
import json
from collections import OrderedDict


def get_pretrained_embeddings(embd_file:str) -> OrderedDict:
    """
    Load pretrained embeddings from JSON file into a dictionary
    :param embd_file: JSON-like file containing the pretrained embeddings
    :return: OrderedDict
    """
    with open(embd_file, "r") as input_file:
        pretrained_embd = json.load(input_file)
        return pretrained_embd


def read_jsonl_file(filepath:str):
    data = dict()
    if not os.path.exists(filepath):
        return None
    with open(filepath) as f:
        for json_str in f:
            json_data = json.loads(json_str)
            data[json_data["sha256"]] = json_data["metadata"]
    return data
